{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport backendRestApi from \"@/service/backendRestApi\";\nexport default {\n  name: \"donarList\",\n  data() {\n    return {\n      DonorsList: [],\n      showAlert: \"\",\n      alertMessage: \"\"\n    };\n  },\n  created() {\n    this.fetchDonorsInfo();\n  },\n  methods: {\n    async fetchDonorsInfo() {\n      try {\n        const response = await backendRestApi.donorsList();\n        this.DonorsList = response.data.map(donor => ({\n          DonarInfoClass: {\n            donarId: donor.donarId || \"\",\n            bloodOrganizationId: donor.bloodOrganizationId || \"\",\n            donarName: donor.donarName || \"\",\n            donarEmail: donor.donarEmail || \"\",\n            donarAge: donor.donarAge || \"\",\n            donarGender: donor.donarGender || \"\",\n            donarAddress: donor.donarAddress || \"\",\n            donarBloodType: donor.donarBloodType || \"\",\n            localDate: donor.localDate || \"\",\n            status: donor.status || \"\"\n          }\n        }));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async deleteDonor(donorId) {\n      try {\n        const response = await backendRestApi.deleteDonorInfo(donorId);\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          this.$router.push(\"/blood-org-deshboard/blood-donor-list\"); // Redirect to the dashboard page\n        }, 3000);\n      } catch (error) {\n        console.error(\"Error deleting donor:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["backendRestApi","name","data","DonorsList","showAlert","alertMessage","created","fetchDonorsInfo","methods","response","donorsList","map","donor","DonarInfoClass","donarId","bloodOrganizationId","donarName","donarEmail","donarAge","donarGender","donarAddress","donarBloodType","localDate","status","error","console","log","deleteDonor","donorId","deleteDonorInfo","setTimeout","$router","push"],"sources":["/home/annoy/vueJs project/blood-and-eye-org-system/src/views/blood-org/donarList.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>Donor List</h1>\n    <div v-if=\"showAlert\" class=\"alert alert-dismissible alert-success\">\n      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n      <strong>{{ alertMessage }}</strong>\n    </div>\n    <div class=\"container\">\n      <table class=\"table table-hover\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Donar Name</th>\n            <th scope=\"col\">Donar Email</th>\n            <th scope=\"col\">Donar Age</th>\n            <th scope=\"col\">Donar Gender</th>\n            <th scope=\"col\">Donar Address</th>\n            <th scope=\"col\">Donar Blood Group</th>\n            <th scope=\"col\">Blood Donate Date</th>\n            <th scope=\"col\">Donar Status</th>\n            <th scope=\"col\">Delete Donor</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            class=\"table-success\"\n            v-for=\"donor in DonorsList\"\n            :key=\"donor.DonarInfoClass.donarId\"\n          >\n            <th scope=\"row\">{{ donor.DonarInfoClass.donarName }}</th>\n            <td>{{ donor.DonarInfoClass.donarEmail }}</td>\n            <td>{{ donor.DonarInfoClass.donarAge }}</td>\n            <td>{{ donor.DonarInfoClass.donarGender }}</td>\n            <td>{{ donor.DonarInfoClass.donarAddress }}</td>\n            <td>{{ donor.DonarInfoClass.donarBloodType }}</td>\n            <td>{{ donor.DonarInfoClass.localDate }}</td>\n            <td>{{ donor.DonarInfoClass.status }}</td>\n            <td>\n              <button\n                type=\"button\"\n                @click=\"deleteDonor(donor.DonarInfoClass.donarId)\"\n              >\n                Delete\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport backendRestApi from \"@/service/backendRestApi\";\nexport default {\n  name: \"donarList\",\n  data() {\n    return {\n      DonorsList: [],\n      showAlert: \"\",\n      alertMessage: \"\",\n    };\n  },\n  created() {\n    this.fetchDonorsInfo();\n  },\n  methods: {\n    async fetchDonorsInfo() {\n      try {\n        const response = await backendRestApi.donorsList();\n        this.DonorsList = response.data.map((donor) => ({\n          DonarInfoClass: {\n            donarId: donor.donarId || \"\",\n            bloodOrganizationId: donor.bloodOrganizationId || \"\",\n            donarName: donor.donarName || \"\",\n            donarEmail: donor.donarEmail || \"\",\n            donarAge: donor.donarAge || \"\",\n            donarGender: donor.donarGender || \"\",\n            donarAddress: donor.donarAddress || \"\",\n            donarBloodType: donor.donarBloodType || \"\",\n            localDate: donor.localDate || \"\",\n            status: donor.status || \"\",\n          },\n        }));\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async deleteDonor(donorId) {\n      try {\n        const response = await backendRestApi.deleteDonorInfo(donorId);\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          this.$router.push(\"/blood-org-deshboard/blood-donor-list\"); // Redirect to the dashboard page\n        }, 3000);\n      } catch (error) {\n        console.error(\"Error deleting donor:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":";AAoDA,OAAOA,cAAa,MAAO,0BAA0B;AACrD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMT,cAAc,CAACU,UAAU,CAAC,CAAC;QAClD,IAAI,CAACP,UAAS,GAAIM,QAAQ,CAACP,IAAI,CAACS,GAAG,CAAEC,KAAK,KAAM;UAC9CC,cAAc,EAAE;YACdC,OAAO,EAAEF,KAAK,CAACE,OAAM,IAAK,EAAE;YAC5BC,mBAAmB,EAAEH,KAAK,CAACG,mBAAkB,IAAK,EAAE;YACpDC,SAAS,EAAEJ,KAAK,CAACI,SAAQ,IAAK,EAAE;YAChCC,UAAU,EAAEL,KAAK,CAACK,UAAS,IAAK,EAAE;YAClCC,QAAQ,EAAEN,KAAK,CAACM,QAAO,IAAK,EAAE;YAC9BC,WAAW,EAAEP,KAAK,CAACO,WAAU,IAAK,EAAE;YACpCC,YAAY,EAAER,KAAK,CAACQ,YAAW,IAAK,EAAE;YACtCC,cAAc,EAAET,KAAK,CAACS,cAAa,IAAK,EAAE;YAC1CC,SAAS,EAAEV,KAAK,CAACU,SAAQ,IAAK,EAAE;YAChCC,MAAM,EAAEX,KAAK,CAACW,MAAK,IAAK;UAC1B;QACF,CAAC,CAAC,CAAC;MACL,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACF,CAAC;IAED,MAAMG,WAAWA,CAACC,OAAO,EAAE;MACzB,IAAI;QACF,MAAMnB,QAAO,GAAI,MAAMT,cAAc,CAAC6B,eAAe,CAACD,OAAO,CAAC;QAC9D,IAAI,CAACxB,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACC,YAAW,GAAII,QAAQ,CAACP,IAAI;QACjC4B,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,uCAAuC,CAAC,EAAE;QAC9D,CAAC,EAAE,IAAI,CAAC;MACV,EAAE,OAAOR,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}