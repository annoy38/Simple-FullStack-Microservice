{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h1\", null, _toDisplayString($data.ProfileClass.userName), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", null, \"Blood Organization Number : \" + _toDisplayString($data.ProfileClass.userNumber), 1 /* TEXT */), _createElementVNode(\"h3\", null, \"Blood Organization Email : \" + _toDisplayString($data.ProfileClass.userEmail), 1 /* TEXT */), _createElementVNode(\"h3\", null, \"Blood Organization Division : \" + _toDisplayString($data.ProfileClass.userDivision), 1 /* TEXT */), _createElementVNode(\"h3\", null, \"Blood Organization Distric : \" + _toDisplayString($data.ProfileClass.userDistric), 1 /* TEXT */), _createElementVNode(\"h3\", null, \"Blood Organization Upazila : \" + _toDisplayString($data.ProfileClass.userUpazila), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-success\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.deleteAccount())\n  }, \"Delete Account\")]), $data.showAlert ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"p\", null, _toDisplayString($data.alertMessage), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$data","ProfileClass","userName","_hoisted_2","userNumber","userEmail","userDivision","userDistric","userUpazila","type","onClick","_cache","$event","$options","deleteAccount","showAlert","_hoisted_3","alertMessage"],"sources":["/home/annoy/vueJs project/blood-and-eye-org-system/src/views/blood-org/bloodOrgProfile.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>{{ ProfileClass.userName }}</h1>\n    <div class=\"container\">\n      <h3>Blood Organization Number : {{ ProfileClass.userNumber }}</h3>\n      <h3>Blood Organization Email : {{ ProfileClass.userEmail }}</h3>\n      <h3>Blood Organization Division : {{ ProfileClass.userDivision }}</h3>\n      <h3>Blood Organization Distric : {{ ProfileClass.userDistric }}</h3>\n      <h3>Blood Organization Upazila : {{ ProfileClass.userUpazila }}</h3>\n      <button type=\"button\" class=\"btn btn-success\" @click=\"deleteAccount()\">Delete Account</button>\n    </div>\n    <div v-if=\"showAlert\">\n      <p>{{ alertMessage }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport backendRestApi from \"@/service/backendRestApi\";\nexport default {\n  name: \"bloodOrgProfile\",\n  data() {\n    return {\n      ProfileClass: {\n        userName: \"\",\n        userNumber: \"\",\n        userEmail: \"\",\n        userDivision: \"\",\n        userDistric: \"\",\n        userUpazila: \"\",\n      },\n      showAlert: \"\",\n      alertMessage: \"\",\n    };\n  },\n  created() {\n    this.fetchProfile();\n  },\n  methods: {\n    async fetchProfile() {\n      try {\n        const response = await backendRestApi.bloodOrgProfilePage();\n        this.ProfileClass = response.data;\n      } catch (error) {\n        console.error(error);\n        this.showAlert = true;\n        this.alertMessage = \"Failed to fetch profile data.\";\n      }\n    },    \n    async deleteAccount() {\n      backendRestApi.deleteAccount().then((response) => {\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          localStorage.removeItem(\"token\");\n          localStorage.clear();\n          this.$router.push(\"/blood-org-login\"); // Redirect to the dashboard page\n        }, 3000);\n      });\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAAW;;;;;uBAFxBC,mBAAA,CAaM,OAbNC,UAaM,GAZJC,mBAAA,CAAoC,YAAAC,gBAAA,CAA7BC,KAAA,CAAAC,YAAY,CAACC,QAAQ,kBAC5BJ,mBAAA,CAOM,OAPNK,UAOM,GANJL,mBAAA,CAAkE,YAA9D,8BAA4B,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,YAAY,CAACG,UAAU,kBAC1DN,mBAAA,CAAgE,YAA5D,6BAA2B,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,YAAY,CAACI,SAAS,kBACxDP,mBAAA,CAAsE,YAAlE,gCAA8B,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,YAAY,CAACK,YAAY,kBAC9DR,mBAAA,CAAoE,YAAhE,+BAA6B,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,YAAY,CAACM,WAAW,kBAC5DT,mBAAA,CAAoE,YAAhE,+BAA6B,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,YAAY,CAACO,WAAW,kBAC5DV,mBAAA,CAA8F;IAAtFW,IAAI,EAAC,QAAQ;IAACd,KAAK,EAAC,iBAAiB;IAAEe,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,aAAa;KAAI,gBAAc,E,GAE5Ed,KAAA,CAAAe,SAAS,I,cAApBnB,mBAAA,CAEM,OAAAoB,UAAA,GADJlB,mBAAA,CAAyB,WAAAC,gBAAA,CAAnBC,KAAA,CAAAiB,YAAY,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}