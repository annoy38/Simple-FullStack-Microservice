{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport backendEyeRestApi from \"@/service/backendEyeRestApi\";\nexport default {\n  name: \"eyeOrgProfile\",\n  data() {\n    return {\n      AccountProfileClass: {\n        orgName: \"\",\n        orgNumber: \"\",\n        orgEmail: \"\",\n        orgDivision: \"\",\n        orgDistric: \"\",\n        orgUpazila: \"\"\n      },\n      showAlert: \"\",\n      alertMessage: \"\"\n    };\n  },\n  created() {\n    this.fetchEyeProfile();\n  },\n  methods: {\n    async fetchEyeProfile() {\n      try {\n        const response = await backendEyeRestApi.eyeOrgProfilePage();\n        this.AccountProfileClass = response.data;\n      } catch (error) {\n        console.error(error);\n        this.showAlert = true;\n        this.alertMessage = \"Failed to fetch profile data.\";\n      }\n    },\n    async deleteAccount() {\n      backendEyeRestApi.deleteEyeAccount().then(response => {\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          localStorage.removeItem(\"token\");\n          localStorage.clear();\n          this.$router.push(\"/eye-bank/eye-org-login\"); // Redirect to the dashboard page\n        }, 3000);\n      });\n    }\n  }\n};","map":{"version":3,"names":["backendEyeRestApi","name","data","AccountProfileClass","orgName","orgNumber","orgEmail","orgDivision","orgDistric","orgUpazila","showAlert","alertMessage","created","fetchEyeProfile","methods","response","eyeOrgProfilePage","error","console","deleteAccount","deleteEyeAccount","then","setTimeout","localStorage","removeItem","clear","$router","push"],"sources":["/home/annoy/vueJs project/blood-and-eye-org-system/src/views/eye-org/eyeOrgProfile.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>{{ AccountProfileClass.orgName }}</h1>\n    <div class=\"container\">\n      <h3>Eye Organization Number : {{ AccountProfileClass.orgNumber }}</h3>\n      <h3>Eye Organization Email : {{ AccountProfileClass.orgEmail }}</h3>\n      <h3>Eye Organization Division : {{ AccountProfileClass.orgDivision }}</h3>\n      <h3>Eye Organization Distric : {{ AccountProfileClass.orgDistric }}</h3>\n      <h3>Eye Organization Upazila : {{ AccountProfileClass.orgUpazila }}</h3>\n      <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteAccount()\">\n        Delete Account\n      </button>\n    </div>\n    <div v-if=\"showAlert\">\n      <p>{{ alertMessage }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport backendEyeRestApi from \"@/service/backendEyeRestApi\";\nexport default {\n  name: \"eyeOrgProfile\",\n  data() {\n    return {\n      AccountProfileClass: {\n        orgName: \"\",\n        orgNumber: \"\",\n        orgEmail: \"\",\n        orgDivision: \"\",\n        orgDistric: \"\",\n        orgUpazila: \"\",\n      },\n      showAlert: \"\",\n      alertMessage: \"\",\n    };\n  },\n  created() {\n    this.fetchEyeProfile();\n  },\n  methods: {\n    async fetchEyeProfile() {\n      try {\n        const response = await backendEyeRestApi.eyeOrgProfilePage();\n        this.AccountProfileClass = response.data;\n      } catch (error) {\n        console.error(error);\n        this.showAlert = true;\n        this.alertMessage = \"Failed to fetch profile data.\";\n      }\n    },\n    async deleteAccount() {\n      backendEyeRestApi.deleteEyeAccount().then((response) => {\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          localStorage.removeItem(\"token\");\n          localStorage.clear();\n          this.$router.push(\"/eye-bank/eye-org-login\"); // Redirect to the dashboard page\n        }, 3000);\n      });\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":";AAoBA,OAAOA,iBAAgB,MAAO,6BAA6B;AAC3D,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,mBAAmB,EAAE;QACnBC,OAAO,EAAE,EAAE;QACXC,SAAS,EAAE,EAAE;QACbC,QAAQ,EAAE,EAAE;QACZC,WAAW,EAAE,EAAE;QACfC,UAAU,EAAE,EAAE;QACdC,UAAU,EAAE;MACd,CAAC;MACDC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,eAAeA,CAAA,EAAG;MACtB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMf,iBAAiB,CAACgB,iBAAiB,CAAC,CAAC;QAC5D,IAAI,CAACb,mBAAkB,GAAIY,QAAQ,CAACb,IAAI;MAC1C,EAAE,OAAOe,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB,IAAI,CAACP,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACC,YAAW,GAAI,+BAA+B;MACrD;IACF,CAAC;IACD,MAAMQ,aAAaA,CAAA,EAAG;MACpBnB,iBAAiB,CAACoB,gBAAgB,CAAC,CAAC,CAACC,IAAI,CAAEN,QAAQ,IAAK;QACtD,IAAI,CAACL,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACC,YAAW,GAAII,QAAQ,CAACb,IAAI;QACjCoB,UAAU,CAAC,MAAM;UACfC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;UAChCD,YAAY,CAACE,KAAK,CAAC,CAAC;UACpB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,yBAAyB,CAAC,EAAE;QAChD,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,CAAC;IACJ;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}