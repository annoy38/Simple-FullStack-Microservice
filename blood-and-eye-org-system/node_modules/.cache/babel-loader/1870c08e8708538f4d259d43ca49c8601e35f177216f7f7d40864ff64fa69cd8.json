{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport backendAdminRestApi from \"@/service/backendAdminRestApi\";\nexport default {\n  name: \"adminHome\",\n  data() {\n    return {\n      deliveryReqList: [],\n      totalBloodOrg: \"\",\n      totalBloodDonor: \"\",\n      totalEyeOrg: \"\",\n      totalEyeDonor: \"\",\n      updateStatus: \"Complete\",\n      showAlert: false,\n      alertMessage: \"\"\n    };\n  },\n  created() {\n    this.fetchTotalBloodOrg();\n    this.fetchTotalBloodDonor();\n    this.fetchTotalEyeOrg();\n    this.fetchTotalEyeDonor();\n    this.fetchDeliveryReqt();\n  },\n  methods: {\n    async fetchTotalBloodOrg() {\n      try {\n        const response = await backendAdminRestApi.countBloodOrg();\n        this.totalBloodOrg = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchTotalBloodDonor() {\n      try {\n        const response = await backendAdminRestApi.countBloodDonor();\n        this.totalBloodDonor = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchTotalEyeOrg() {\n      try {\n        const response = await backendAdminRestApi.countEyeOrg();\n        this.totalEyeOrg = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchTotalEyeDonor() {\n      try {\n        const response = await backendAdminRestApi.countEyeDonor();\n        this.totalEyeDonor = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchDeliveryReqt() {\n      try {\n        const response = await backendAdminRestApi.deliveryReqList();\n        this.deliveryReqList = response.data.map(requestList => ({\n          DeliveryRequestsClass: {\n            deliverId: requestList.deliverId || \"\",\n            organizationId: requestList.organizationId || \"\",\n            organizationName: requestList.organizationName || \"\",\n            organizationNumber: requestList.organizationNumber || \"\",\n            organizationLocation: requestList.organizationLocation || \"\",\n            patientName: requestList.patientName || \"\",\n            patientNumber: requestList.patientNumber || \"\",\n            hospitalName: requestList.hospitalName || \"\",\n            deliverItem: requestList.deliverItem || \"\",\n            status: requestList.status || \"\"\n          }\n        }));\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async updateAction(deliveryId, updateStatus) {\n      try {\n        console.log(deliveryId, updateStatus);\n        const response = await backendAdminRestApi.updateDeliveryStatus(deliveryId, updateStatus);\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          this.$router.push(\"/admin-deshboard\");\n          this.showAlert = false;\n          this.alertMessage = \"\"; // Redirect to the dashboard page\n        }, 3000);\n      } catch (error) {\n        console.error(\"Error deleting donor:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["backendAdminRestApi","name","data","deliveryReqList","totalBloodOrg","totalBloodDonor","totalEyeOrg","totalEyeDonor","updateStatus","showAlert","alertMessage","created","fetchTotalBloodOrg","fetchTotalBloodDonor","fetchTotalEyeOrg","fetchTotalEyeDonor","fetchDeliveryReqt","methods","response","countBloodOrg","error","console","countBloodDonor","countEyeOrg","countEyeDonor","map","requestList","DeliveryRequestsClass","deliverId","organizationId","organizationName","organizationNumber","organizationLocation","patientName","patientNumber","hospitalName","deliverItem","status","updateAction","deliveryId","log","updateDeliveryStatus","setTimeout","$router","push"],"sources":["/home/annoy/vueJs project/blood-and-eye-org-system/src/views/admin/adminHome.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <div class=\"row mt-4\">\n      <div class=\"col\">\n        <div class=\"card text-white bg-primary mb-3\" style=\"max-width: 18rem\">\n          <div class=\"card-header\">Total Blood Donation Bank</div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ totalBloodOrg }}</h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"col\">\n        <div class=\"card text-white bg-success mb-3\" style=\"max-width: 18rem\">\n          <div class=\"card-header\">Total Blood Donor</div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ totalBloodDonor }}</h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"col\">\n        <div class=\"card text-white bg-warning mb-3\" style=\"max-width: 18rem\">\n          <div class=\"card-header\">Total Eye Donation Bank</div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ totalEyeOrg }}</h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"col\">\n        <div class=\"card text-white bg-info mb-3\" style=\"max-width: 18rem\">\n          <div class=\"card-header\">Total Eye Donor</div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ totalEyeDonor }}</h5>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"mt-5\">\n      <h2>Delivery Request Lists</h2>\n    </div>\n    <div v-if=\"showAlert\" class=\"alert alert-dismissible alert-success\">\n      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n      <strong>{{ alertMessage }}</strong>\n    </div>\n    <table class=\"table table-hover mt-4\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Donation Bank ID</th>\n          <th scope=\"col\">Donation Bank Name</th>\n          <th scope=\"col\">Donation Bank Number</th>\n          <th scope=\"col\">Donation Bank Location</th>\n          <th scope=\"col\">Patient Name</th>\n          <th scope=\"col\">Patient Number</th>\n          <th scope=\"col\">Hospital Name</th>\n          <th scope=\"col\">Delivery Iteam</th>\n          <th scope=\"col\">Delivery Status</th>\n          <th scope=\"col\">Action</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          class=\"table-success\"\n          v-for=\"requestList in deliveryReqList\"\n          :key=\"requestList.DeliveryRequestsClass.deliverId\"\n        >\n          <th scope=\"row\">\n            {{ requestList.DeliveryRequestsClass.organizationId }}\n          </th>\n          <td>{{ requestList.DeliveryRequestsClass.organizationName }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.organizationNumber }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.organizationLocation }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.patientName }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.patientNumber }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.hospitalName }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.deliverItem }}</td>\n          <td>{{ requestList.DeliveryRequestsClass.status }}</td>\n          <td>\n            <button\n            v-if=\"requestList.DeliveryRequestsClass.status=='Incomplete'\"\n              type=\"button\"\n              @click=\"\n                updateAction(\n                  requestList.DeliveryRequestsClass.deliverId,\n                  updateStatus\n                )\n              \"\n              class=\"btn btn-success\"\n            >\n              Complete\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport backendAdminRestApi from \"@/service/backendAdminRestApi\";\nexport default {\n  name: \"adminHome\",\n  data() {\n    return {\n      deliveryReqList: [],\n      totalBloodOrg: \"\",\n      totalBloodDonor: \"\",\n      totalEyeOrg: \"\",\n      totalEyeDonor: \"\",\n      updateStatus: \"Complete\",\n      showAlert: false,\n      alertMessage: \"\",\n    };\n  },\n  created() {\n    this.fetchTotalBloodOrg();\n    this.fetchTotalBloodDonor();\n    this.fetchTotalEyeOrg();\n    this.fetchTotalEyeDonor();\n    this.fetchDeliveryReqt();\n  },\n  methods: {\n    async fetchTotalBloodOrg() {\n      try {\n        const response = await backendAdminRestApi.countBloodOrg();\n        this.totalBloodOrg = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async fetchTotalBloodDonor() {\n      try {\n        const response = await backendAdminRestApi.countBloodDonor();\n        this.totalBloodDonor = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async fetchTotalEyeOrg() {\n      try {\n        const response = await backendAdminRestApi.countEyeOrg();\n        this.totalEyeOrg = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async fetchTotalEyeDonor() {\n      try {\n        const response = await backendAdminRestApi.countEyeDonor();\n        this.totalEyeDonor = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async fetchDeliveryReqt() {\n      try {\n        const response = await backendAdminRestApi.deliveryReqList();\n        this.deliveryReqList = response.data.map((requestList) => ({\n          DeliveryRequestsClass: {\n            deliverId: requestList.deliverId || \"\",\n            organizationId: requestList.organizationId || \"\",\n            organizationName: requestList.organizationName || \"\",\n            organizationNumber: requestList.organizationNumber || \"\",\n            organizationLocation: requestList.organizationLocation || \"\",\n            patientName: requestList.patientName || \"\",\n            patientNumber: requestList.patientNumber || \"\",\n            hospitalName: requestList.hospitalName || \"\",\n            deliverItem: requestList.deliverItem || \"\",\n            status: requestList.status || \"\",\n          },\n        }));\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async updateAction(deliveryId, updateStatus) {\n      try {\n        console.log(deliveryId, updateStatus);\n        const response = await backendAdminRestApi.updateDeliveryStatus(\n          deliveryId,\n          updateStatus\n        );\n        this.showAlert = true;\n        this.alertMessage = response.data;\n        setTimeout(() => {\n          this.$router.push(\"/admin-deshboard\");\n          this.showAlert = false;\n          this.alertMessage = \"\"; // Redirect to the dashboard page\n        }, 3000);\n      } catch (error) {\n        console.error(\"Error deleting donor:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":";AAiGA,OAAOA,mBAAkB,MAAO,+BAA+B;AAC/D,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE,EAAE;MACnBC,aAAa,EAAE,EAAE;MACjBC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE,EAAE;MACfC,aAAa,EAAE,EAAE;MACjBC,YAAY,EAAE,UAAU;MACxBC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACC,gBAAgB,CAAC,CAAC;IACvB,IAAI,CAACC,kBAAkB,CAAC,CAAC;IACzB,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACP,MAAML,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAMM,QAAO,GAAI,MAAMlB,mBAAmB,CAACmB,aAAa,CAAC,CAAC;QAC1D,IAAI,CAACf,aAAY,GAAIc,QAAQ,CAAChB,IAAI;MACpC,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAED,MAAMP,oBAAoBA,CAAA,EAAG;MAC3B,IAAI;QACF,MAAMK,QAAO,GAAI,MAAMlB,mBAAmB,CAACsB,eAAe,CAAC,CAAC;QAC5D,IAAI,CAACjB,eAAc,GAAIa,QAAQ,CAAChB,IAAI;MACtC,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAED,MAAMN,gBAAgBA,CAAA,EAAG;MACvB,IAAI;QACF,MAAMI,QAAO,GAAI,MAAMlB,mBAAmB,CAACuB,WAAW,CAAC,CAAC;QACxD,IAAI,CAACjB,WAAU,GAAIY,QAAQ,CAAChB,IAAI;MAClC,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAED,MAAML,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMlB,mBAAmB,CAACwB,aAAa,CAAC,CAAC;QAC1D,IAAI,CAACjB,aAAY,GAAIW,QAAQ,CAAChB,IAAI;MACpC,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAED,MAAMJ,iBAAiBA,CAAA,EAAG;MACxB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMlB,mBAAmB,CAACG,eAAe,CAAC,CAAC;QAC5D,IAAI,CAACA,eAAc,GAAIe,QAAQ,CAAChB,IAAI,CAACuB,GAAG,CAAEC,WAAW,KAAM;UACzDC,qBAAqB,EAAE;YACrBC,SAAS,EAAEF,WAAW,CAACE,SAAQ,IAAK,EAAE;YACtCC,cAAc,EAAEH,WAAW,CAACG,cAAa,IAAK,EAAE;YAChDC,gBAAgB,EAAEJ,WAAW,CAACI,gBAAe,IAAK,EAAE;YACpDC,kBAAkB,EAAEL,WAAW,CAACK,kBAAiB,IAAK,EAAE;YACxDC,oBAAoB,EAAEN,WAAW,CAACM,oBAAmB,IAAK,EAAE;YAC5DC,WAAW,EAAEP,WAAW,CAACO,WAAU,IAAK,EAAE;YAC1CC,aAAa,EAAER,WAAW,CAACQ,aAAY,IAAK,EAAE;YAC9CC,YAAY,EAAET,WAAW,CAACS,YAAW,IAAK,EAAE;YAC5CC,WAAW,EAAEV,WAAW,CAACU,WAAU,IAAK,EAAE;YAC1CC,MAAM,EAAEX,WAAW,CAACW,MAAK,IAAK;UAChC;QACF,CAAC,CAAC,CAAC;MACL,EAAE,OAAOjB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAED,MAAMkB,YAAYA,CAACC,UAAU,EAAE/B,YAAY,EAAE;MAC3C,IAAI;QACFa,OAAO,CAACmB,GAAG,CAACD,UAAU,EAAE/B,YAAY,CAAC;QACrC,MAAMU,QAAO,GAAI,MAAMlB,mBAAmB,CAACyC,oBAAoB,CAC7DF,UAAU,EACV/B,YACF,CAAC;QACD,IAAI,CAACC,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACC,YAAW,GAAIQ,QAAQ,CAAChB,IAAI;QACjCwC,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAC;UACrC,IAAI,CAACnC,SAAQ,GAAI,KAAK;UACtB,IAAI,CAACC,YAAW,GAAI,EAAE,EAAE;QAC1B,CAAC,EAAE,IAAI,CAAC;MACV,EAAE,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}